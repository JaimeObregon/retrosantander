@import url('../typography.css');
@import url('../system.css');

html {
  --type-base: calc(0.75em + 0.5vw);
  --gap: 20px;
  --image-gap: 4px;
  --panel-width: 22em;
  --header-height: 64px;

  margin: 0 var(--image-gap);
  font-family: var(--font-sans);
  font-size: 16px;
  font-weight: 300;
  font-variant-numeric: oldstyle-nums;
  line-height: var(--line-height-normal);
  color: var(--color-text);
  color-scheme: dark light;
  cursor: default;
  user-select: none;
  background-color: var(--color-background);
  scroll-behavior: smooth;
  text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Inspirado en Smashing Magazine */
  &[data-theme='dark'] {
    --color-accent: #ccec88;
    --color-background: #0d2630;
    --color-panel: #19313cd9;
    --color-heading: #fff;
    --color-link: #ccec88;
    --color-highlight: #fff;
    --color-highlight-inverted: #0a1e26;
    --color-text: #dfdfdf;
    --color-text-pale: #999;
    --color-line: #244654;
    --color-warning: #7f1d1d;
    --color-backdrop: #0d2630f2;
  }

  /* Inspirado en basecamp.com */
  &[data-theme='light'] {
    --color-accent: #c71585;
    --color-background: #fbf7f0;
    --color-panel: #ffffffd9;
    --color-heading: #0d1a26;
    --color-link: #c71585;
    --color-highlight: #222;
    --color-highlight-inverted: #fff;
    --color-text: #274059;
    --color-text-pale: #707f8d;
    --color-line: #e3dedc;
    --color-warning: #fdba74;
    --color-backdrop: #000000d9;
  }
}

::selection {
  color: var(--color-highlight-inverted);
  background-color: var(--color-highlight);
}

body {
  margin: 0;
  font-family: var(--font-serif);
  font-size: var(--type-base);
  hyphens: auto;
  text-align: justify;
  letter-spacing: 0.025em;
  background: var(--color-background);
}

header {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  width: 100%;
  height: var(--header-height);
  background-color: var(--color-panel);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--color-line);
  box-shadow: 0 5px 5px #1c191750;

  rs-title {
    flex-grow: 1;
    overflow: hidden;
  }

  rs-search {
    flex-shrink: 0;
  }

  rs-menu {
    flex-shrink: 0;
  }
}

rs-help {
  display: flex;
  margin-top: var(--header-height);
}

strong {
  font-weight: bold;
  color: var(--color-highlight);
}

a {
  color: var(--color-link);
  text-decoration: 0.075em underline;
  text-underline-offset: var(--space-x-small);

  &:hover {
    text-decoration: 0.075em underline double;
  }

  &[href^='http'] {
    color: inherit;
    text-decoration: inherit;
  }

  &[href^='http']::after {
    position: relative;
    top: -0.2em;
    color: var(--color-accent);
    content: '°';
  }

  &[href^='http']:hover {
    text-decoration: none;
    background: var(--color-highlight-inverted);
  }

  strong {
    color: inherit;
  }
}

i,
em {
  font-style: italic;
}

h1 {
  font-style: italic;
  letter-spacing: 0;
}

h2 {
  margin: var(--space-large) 0 0 0;
  font-size: var(--type-large);
  line-height: var(--line-height-condensed);
  color: var(--color-heading);
}

ol,
ul {
  padding: 0;
  list-style: none;
}

:is(ol, ul) li {
  position: relative;
  padding-left: var(--space-x-large);
}

ol {
  counter-reset: number;

  li::before {
    position: absolute;
    top: -0.125em;
    left: 0;
    font-family: Numbered, sans-serif;
    font-size: var(--type-large);
    font-style: normal;
    letter-spacing: 0;
    content: counter(number);
    counter-increment: number;
  }
}

ul li::before {
  position: absolute;
  top: -0.15em;
  left: 0;
  font-size: var(--type-large);
  content: '–';
}

@media (width <= 1280px) {
  html {
    --gap: 12px;
    --header-height: 58px;
  }

  header rs-logo {
    display: none;
  }
}

@media (width <= 1024px) {
  html {
    --panel-width: 20em;
    --header-height: 48px;
  }
}

@media (width <= 768px) {
  html {
    --panel-width: 100%;
  }
}

@media (width <= 640px) {
  html {
    --header-height: 42px;
  }
}
